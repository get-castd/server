/* Copyright 2025 Vivian Voss. Licensed under the Apache License, Version 2.0. */
/* SPDX-License-Identifier: Apache-2.0 */

/* cm.form.segment â€” Segmented control styling */

@layer castd {
    .as-segments {
        display: inline-flex;
        background: var(--segments-background, var(--control));
        border-radius: var(--segments-radius, calc(var(--unit) * 1.25));
        padding: calc(var(--unit) * 0.5);
        gap: calc(var(--unit) * 0.5);
        border: none;
        margin: 0;

        &.like-stretch {
            display: flex;
            width: 100%;

            label {
                flex: 1;
                text-align: center;
            }
        }

        label {
            display: inline-flex;
            position: relative;

            input[type="radio"] {
                position: absolute;
                opacity: 0;
                pointer-events: none;
            }

            span {
                display: inline-flex;
                padding: calc(var(--unit) * 1) calc(var(--unit) * 2);
                font-size: 0.875rem;
                font-weight: 500;
                color: var(--segment-color, var(--text));
                background: transparent;
                border-radius: calc(var(--unit) * 1);
                cursor: pointer;
                transition:
                    background 0.15s ease,
                    color 0.15s ease;
                user-select: none;

                &:hover {
                    background: var(--segment-hover-background, var(--surface));
                }
            }

            input[type="radio"]:checked + span {
                background: var(--segment-active-background, var(--surface));
                color: var(--segment-active-color, var(--text));
                box-shadow: 0 1px 3px oklch(0% 0 0 / 10%);
            }

            input[type="radio"]:focus-visible + span {
                outline: 2px solid var(--accent);
                outline-offset: 2px;
            }

            input[type="radio"]:disabled + span {
                cursor: not-allowed;
                opacity: 0.5;
            }
        }
    }
}
