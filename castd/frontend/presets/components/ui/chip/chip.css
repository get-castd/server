/* Copyright 2025 Vivian Voss. Licensed under the Apache License, Version 2.0. */
/* SPDX-License-Identifier: Apache-2.0 */

/* cm.ui.chip â€” Interactive chip/tag styling */

@layer castd {
    .as-chip {
        display: inline-flex;
        align-items: center;
        gap: calc(var(--unit) * 0.5);
        padding: calc(var(--unit) * 0.5) calc(var(--unit) * 1.5);
        background: var(--chip-bg, var(--control));
        color: var(--chip-color, var(--text));
        border: 1px solid var(--chip-border, transparent);
        border-radius: var(--chip-radius, calc(var(--unit) * 2));
        font-size: 0.875rem;
        cursor: default;
        transition:
            background 0.15s ease,
            border-color 0.15s ease;

        .chip-icon {
            display: flex;
            font-size: 1em;
        }

        .chip-label {
            white-space: nowrap;
        }

        .chip-remove {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 1.25em;
            height: 1.25em;
            padding: 0;
            margin-left: calc(var(--unit) * 0.5);
            background: transparent;
            border: none;
            border-radius: 50%;
            color: inherit;
            opacity: 0.6;
            cursor: pointer;
            transition:
                opacity 0.15s ease,
                background 0.15s ease;

            &:hover {
                opacity: 1;
                background: oklch(0% 0 0 / 10%);
            }
        }

        /* States */
        &.is-selected {
            background: var(--chip-selected-bg, var(--accent));
            color: var(--chip-selected-color, var(--on-accent));
        }

        &.is-disabled {
            opacity: 0.5;
            cursor: not-allowed;

            .chip-remove {
                pointer-events: none;
            }
        }

        /* Interactive chips */
        &[role="button"],
        &:has(input[type="checkbox"]) {
            cursor: pointer;

            &:hover {
                background: var(--chip-hover-bg, var(--surface));
            }
        }
    }
}
